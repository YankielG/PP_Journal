{% extends 'fragments/layout.html' %}
{% load static %}

{% block page_title %} Waga - Szczegóły {% endblock %}

{% block page_content %}

    <div class="container">
        <div class="uk-panel">
            <img class="uk-align-left uk-margin-remove-adjacent" src="{% static 'background.JPG' %}" width="60"
                 height="28" alt="info">
            <h2 class="uk-heading-divider" style="position: relative">Waga - Szczegóły</h2>
        </div>

        <div style="height: 50px"></div>
        <div class="uk-card uk-card-default uk-border-rounded">
            <div class="uk-card-header">
                <div>
                    <div class="uk-width-expand">
                        <h3 class="uk-card-title uk-position-relative uk-position-center">Statystyki:</h3>
                        <div class="uk-position-relative uk-position-center">
                            <b> Liczba Wpisów:</b> {{ statistical_data.weight__count }}</div>
                        <div class="uk-flex uk-flex-between ">
                            <div><b> MIn. Waga:</b> {{ statistical_data.weight__min|floatformat:2 }}</div>
                            <div><b> Śr. Waga: </b>{{ statistical_data.weight__avg|floatformat:2 }}</div>
                            <div><b> Max. Waga:</b> {{ statistical_data.weight__max|floatformat:2 }}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="uk-card-body">

                <span> <b>Lp.: </b> </span>
                <span> {{ number }} </span> <br>
                <span> <b>Waga: </b> </span>
                <span>{{ weight.weight }}</span><br>
                <span> <b>Data wpisu: </b> </span>
                <span>{{ weight.creation_date }}</span><br>
                <span> <b>Data aktualizacji: </b> </span>
                <span>{{ weight.update_date }}</span><br>
                <span> <b>Właściciel: </b> </span>
                <span>{{ weight.owner }}</span><br>
                <span> <b>Uwagi: </b> </span>
                <span class="uk-text-break">{{ weight.comments }}</span>
                <br><br>
                <b>Nasza ocena: </b>

                {% if weight.weight > statistical_data.weight__avg %}
                    <span class="uk-text-danger"> Jesteś powyżej średniej - Zastosuj dietę </span>

                {% elif  weight.weight < statistical_data.weight__avg %}
                    <span class="uk-text-success">  Jesteś poniżej średniej - Brawo !!! </span>

                {% else %}
                    <span class="uk-text-warning"> Jesteś na poziomie średniej - Prawie idealnie, popracuj jeszcze trochę </span>
                {% endif %}

            </div>

            <div class="uk-position-center uk-position-relative">
                <span>
                    {% if prev_view %}
                        <a href="{% url 'weight_details_url' id=first_view.id %}" style="color: #00BFFF; margin-right: 20px">Pierwszy wpis</a>
                        <a href="{% url 'weight_details_url' id=prev_view.id %}" style="color: #32CD32; margin-right: 20px">Poprzedni wpis</a>
                    {% endif %}
                </span>
{#                <span style="margin-right: 20px"> Wpis {{ current_element_index }} z {{ all_element_index }}</span>#}
                <span>
                    {% if next_view %}
                        <a href="{% url 'weight_details_url' id=next_view.id %}" style="color: #32CD32">Następny wpis</a>
                        <a href="{% url 'weight_details_url' id=last_view.id %}" style="color: #00BFFF; margin-left: 20px">Ostatni wpis</a>
                    {% endif %}
                </span>
            </div>

            <div class="uk-card-footer">
                <a href="/weights"
                   class="uk-button uk-button-text uk-position-relative uk-position-top-center">Zamknij</a>
            </div>
        </div>


    </div>
{% endblock %}